{% load static %}
{% load humanize %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vuvu - Buy Airtime</title>
    {% include 'users/includes/header.html' %}
</head>
<body>
    <!-- Transaction Form -->
     {% csrf_token %}
    <div class="main-content transasction-page"  >
        <div class="random" id="transaction-form" style="display: block;">
            <div class="top-section">
                <!-- Header -->
                <div class="services-header">               
                    <div class="service-info">
                        <p >Airtime</p>
                        <div class="icon-box">
                            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g id="style=linear">
                                <g id="email">
                                <path id="vector" d="M17 20.5H7C4 20.5 2 19 2 15.5V8.5C2 5 4 3.5 7 3.5H17C20 3.5 22 5 22 8.5V15.5C22 19 20 20.5 17 20.5Z" stroke="" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path id="vector_2" d="M18.7698 7.7688L13.2228 12.0551C12.5025 12.6116 11.4973 12.6116 10.777 12.0551L5.22998 7.7688" stroke="" stroke-width="1.5" stroke-linecap="round"/>
                                </g>
                                </g>
                            </svg>
    
                        </div>
                        <!-- <a href="javascript:void(0)" >Transaction History</a> -->
                    </div>            
                </div>
                <!-- Wallet Balance -->
                 <div class="wallet-group">
                    <a href="{% url 'dashboard' %}" onclick="">
                        <div class="back-button">                        
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 19.9201L8.47997 13.4001C7.70997 12.6301 7.70997 11.3701 8.47997 10.6001L15 4.08008" stroke="#292D32" stroke-width="2.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>                
                    <div class="wallet-summary">
                        <p class="balance"> <span class="gray-text">&#8358; </span><span style="font-stretch: narrower;">{{mainBalance|intcomma}}</span></p>
                        <p class="header gray-text">Available Balance</p>                
                    </div>
                 </div>
                
            </div>
            
            <!-- Transaction Form -->
             <div class="transaction-form" >
                <p class="tag">Abeg, fill the details below <span style="font-family: Noto Emoji, sans-serif;">ðŸ˜‰</span></p>
                <form action="">
                    <input type="text" name="network" hidden>
                    <div class="operator-container">
                        <a href="javascript:void(0)" onclick="" id="network-selector">
                            <div class="network-selector">
                                <div class="network-group">
                                    <div class="icon-box" id="selectedOperatorImg">
                                        <img src="" alt="">    
                                    </div>
                                    <p class="operator-text">Select a network</p>
                                </div>                    
                                <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7 10L12 15L17 10" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>                        
                            </div>
                        </a>                    
                        <div class="dropdown" id="network-dropdown">
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/mtnlogo.png' %}" network-data="MTN" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/mtnlogo.png' %}" alt="">
                                    </div>
                                    <div class="list">
                                        <p>MTN</p>
                                        <small>MTN Airtime</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/glologo.png' %}" network-data="Glo" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/glologo.png' %}" alt="">
                                    </div>
                                    <div class="list">
                                        <p>Glo</p>
                                        <small>Glo Airtime</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/airtellogo.png' %}" network-data="Airtel" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/airtellogo.png' %}" alt="">
    
                                    </div>
                                    <div class="list">
                                        <p>Airtel</p>
                                        <small>Airtel Airtime</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/9mobilelogo.png' %}" network-data="9Mobile" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/9mobilelogo.png' %}" alt="">
    
                                    </div>
                                    <div class="list">
                                        <p>9Mobile</p>
                                        <small>9Mobile Airtime</small>
                                    </div>
                                </div>
                            </a>
    
    
                        </div>
                    </div>
                    <div class="input-group right-float">
                        <input type="text" name="phone_number" id="phone_number" placeholder="Enter phone number" maxlength="11" inputmode="numeric">
                        <!-- <svg fill="#000000" height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                                viewBox="0 0 484.6 484.6" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M407.1,442c0,7.8-6.4,14.2-14.2,14.2H64.3c-7.8,0-14.2-6.4-14.2-14.2v-5.8H356c15.6,0,28.3-12.7,28.3-28.3V28.3
                                        C384.3,12.6,371.6,0,356,0H50.1C34.5,0,21.8,12.7,21.8,28.3v379.6c0,0.1,0,0.1,0,0.2v34c0,23.4,19.1,42.5,42.5,42.5h328.6
                                        c23.4,0,42.5-19.1,42.5-42.5v-58.9h-28.3L407.1,442L407.1,442z M102.1,149.4c0.6-7.7,3.5-14.3,9.2-19.7
                                        c6.1-5.8,11.9-11.9,17.9-17.9c7.9-7.7,17.7-7.7,25.6,0c4.9,4.8,9.7,9.6,14.5,14.5c4.7,4.7,9.4,9.4,14.1,14.1
                                        c8.2,8.3,8.2,18,0,26.2c-5.9,5.9-11.7,11.9-17.7,17.6c-1.6,1.5-1.7,2.8-0.9,4.7c3.9,9.5,9.6,17.8,16,25.7
                                        c12.9,15.8,27.4,29.9,44.8,40.8c3.7,2.3,7.8,4,11.7,6.1c2,1.1,3.4,0.7,5-0.9c5.9-6.1,11.9-12,17.9-17.9c7.8-7.8,17.7-7.8,25.6,0
                                        c9.6,9.5,19.2,19.1,28.8,28.8c8,8.1,7.9,17.9-0.1,26.1c-5.4,5.5-11.2,10.7-16.3,16.5c-7.5,8.4-16.9,11.1-27.6,10.5
                                        c-15.6-0.9-30-6-43.9-12.8c-30.9-15-57.2-35.8-79.3-62c-16.3-19.4-29.8-40.6-38.7-64.4C104.2,173.7,101.2,161.9,102.1,149.4z"/>
                                    <path d="M445.8,160.1H408v83.1h37.8c9.4,0,17-7.6,17-17v-49.1C462.8,167.7,455.2,160.1,445.8,160.1z"/>
                                    <path d="M445.8,270.6H408v83.1h37.8c9.4,0,17-7.6,17-17v-49.1C462.8,278.2,455.2,270.6,445.8,270.6z"/>
                                    <path d="M445.8,49.6H408v83.1h37.8c9.4,0,17-7.6,17-17V66.6C462.8,57.2,455.2,49.6,445.8,49.6z"/>
                                </g>
                            </g>
                        </svg> -->

                        <svg fill="#000000" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                                viewBox="0 0 330 330" xml:space="preserve">
                            <g id="XMLID_12_">
                                <path id="XMLID_13_" d="M305,0H105C69.159,0,40,29.159,40,65v15H25c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v40H25
                                    c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v40H25c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v15c0,35.841,29.159,65,65,65h200
                                    c8.284,0,15-6.716,15-15V15C320,6.716,313.284,0,305,0z M214.213,199.212c-28.342,28.342-63.587,39.049-78.718,23.918
                                    c-0.296-0.295-20.494-20.494-20.494-20.494l30.67-30.67l20.526,20.525l41.283-41.282l-20.526-20.526l30.683-30.682
                                    c0,0,20.199,20.198,20.494,20.494C253.263,135.626,242.556,170.87,214.213,199.212z"/>
                            </g>
                        </svg>
                        
                    </div>
                    
                    <input type="text" class="" name="amount" id="amount" placeholder="How much?" inputmode="numeric">
                    <div class="discount-container">
                        <p>Cashback:&#8358; <Span class="calculatedDiscount"></Span></p>
                    </div>
    
                    <button href="javascript:void(0)" class="primary-btn disabled" style="margin-top: 80px;" id="buyAirtime">Proceed</button>
                </form>
             </div> 
        </div>
        

        <!--Transaction PIN Validation -->
        <div class="setting-modal" id="PINValidation">
            {% csrf_token %}  
            <div class="content">
                <div class="modal-indicator">
                    <!-- <hr> -->
                </div>
                <!-- Old PIN -->
                <div class="" id="transactionPIN">
                    <h6 class="header">Enter  4-Digit Transaction Pin</h6>
                    <p class="tag">We just want to make sure it is you&#x1F512;</p>
                    <form method="POST" class="setPinForm" id="setPinForm">
                        <div class="pin-container">
                            <div id="PINWrapper" ></div>
                        </div>
                    </form>
                    <!-- Feedback -->
                    <p class="text-center validationError" id="PINValidationError"></p>  
                    <div class="spacer"></div>                            
                </div>
            </div>
        </div>

        <!-- Sumamry modal -->
        <div class="setting-modal" id="billSummary" style="display: none;">
            {% csrf_token %}  
            <div class="content vacc">   
                <div class="modal-indicator"></div>
                <!-- Bill Summary -->
                <div  id="" style="display: block;">
                    <p class="header">Bill Summary</p>                      
                    <div class="details">
                        <div class="data">
                            <p class="info">Bill Type</p>
                            <p class="value" id="">Airtime</p>
                        </div>
                        <div class="data">
                            <p class="info">Network Provider</p>
                            <p class="value" id="networOperator">MTN</p>
                        </div>
                        <div class="data">
                            <p class="info">Phone Number</p>
                            <p class="value" id="recipient">08156325478</p>
                        </div>
                        <div class="data">
                            <p class="info">Amount</p>
                            <p class="value">&#8358;<span id="airtimeAmount">100</span></p>
                        </div>
                        <div class="data">
                            <p class="info">Cashback</p>
                            <p class="value">&#8358;<span id="cashback"></span></p>
                        </div>
                        <hr>
                        <div class="data">
                            <p class="info">Total</p>
                            <p class="value total" >&#8358;<span id="total">1,200</span></p>
                        </div>
                    </div>
                    <div class="details beneficiary">
                        <div class="data">
                            <p class="info">Save Beneficiary</p>
                            <!-- <p class="value" id="">Airtime</p> -->
                            <div class="service-item">
                                <label class="switch">
                                  <input class="checkbox" type="checkbox" id="data-{{service.network_operator}}" >
                                  <span class="slider round"></span>
                                </label>                        
                            </div>
                        </div>
                    </div>
                    <div class="error-feedback" style="display: none;">
                        <div class="transaction-error">
                            <svg fill="#FFF" width="32px" height="32px" viewBox="0 0 24 24" id="caution-sign-circle" xmlns="http://www.w3.org/2000/svg" class="icon line">
                                <line id="primary-upstroke" x1="11.95" y1="16.5" x2="12.05" y2="16.5" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.95;"></line>
                                <path id="primary" d="M3,12a9,9,0,0,1,9-9h0a9,9,0,0,1,9,9h0a9,9,0,0,1-9,9h0a9,9,0,0,1-9-9Zm9,0V7" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5;"></path>
                            </svg>
                            <p class="error-message" id="error-message">Hello worlds</p>
                        </div>
                    </div> 
        
                    <div class="button-group">
                        <button href="javascript:void(0)" class="secondary-btn  cancelTrans" id="cancelAirtime" onclick="">Cancel</button>
                        <button href="javascript:void(0)" class="primary-btn"  id="purchaseAirtime" onclick="">Purchase</button>
                    </div>
                </div>
            </div>
        
        </div>

        <!-- Feeback modal -->
        <div class="setting-modal" id="transactionFeedback" style="display: none;">
            <div class="content vacc">   
                <div class="modal-indicator"></div>
                <!-- Feedback -->
                <div class="feedback-image-container">
                    <lottie-player src="https://lottie.host/a4b16f7e-e9e7-4cc1-8f34-54f435ea80c5/FmzCUPyAsk.json" background="transparent" speed="1" style="width: 180px; height: 180px" loop autoplay direction="1" mode="normal"></lottie-player>
                </div>
                <div class="feedback">
                    <p>Your <span>Airtime Purchase</span> <br>Was Successful</p>
                    <small>Your airtime should be received<br>within a few seconds.</small>
                </div>
                
                <div class="button-group">
                    <a class="secondary-btn " href="{% url 'buy-airtime' %}" onclick="">Buy Again</a>
                    <a class="primary-btn " href="{% url 'dashboard' %}" onclick="">Go to Dashboard</a>
                </div> 
            </div>
        
        </div>

        <!-- Page Preloader -->
        <div class="loader-overlay">
            <div class="loader"></div>
        </div>
        
    </div>
    

    <script src="{% static 'telecomms/js/airtime.js' %}?v=1.023"></script>
    <script src="{% static 'telecomms/js/simple.money.format.js' %}"></script>
    <script type="text/javascript">
		$('.money').simpleMoneyFormat();
	</script>
    
</body>
</html>