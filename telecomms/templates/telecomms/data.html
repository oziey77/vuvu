{% load static %}
{% load humanize %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vuvu - Buy Data</title>
    {% include 'users/includes/header.html' %}
</head>
<body>
    <!-- Transaction Form -->
     {% csrf_token %}
    <div class="main-content transasction-page"  >
        <div class="random" id="transaction-form"  style="display: block;">
            <div class="top-section">
                <!-- Header -->
                <div class="services-header">               
                    <div class="service-info">
                        <p >Data</p>
                        <!-- <div class="icon-box">
                            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g id="style=linear">
                                <g id="email">
                                <path id="vector" d="M17 20.5H7C4 20.5 2 19 2 15.5V8.5C2 5 4 3.5 7 3.5H17C20 3.5 22 5 22 8.5V15.5C22 19 20 20.5 17 20.5Z" stroke="" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                <path id="vector_2" d="M18.7698 7.7688L13.2228 12.0551C12.5025 12.6116 11.4973 12.6116 10.777 12.0551L5.22998 7.7688" stroke="" stroke-width="1.5" stroke-linecap="round"/>
                                </g>
                                </g>
                            </svg>    
                        </div> -->
                        <!-- <a href="javascript:void(0)" >Transaction History</a> -->
                    </div>            
                </div>
                <!-- Wallet Balance -->
                <div class="wallet-group">
                    <a href="{% url 'dashboard' %}" onclick="">
                        <div class="back-button">                        
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 19.9201L8.47997 13.4001C7.70997 12.6301 7.70997 11.3701 8.47997 10.6001L15 4.08008" stroke="#292D32" stroke-width="2.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>                
                    <div class="wallet-summary">
                        <p class="balance"> <span class="gray-text">&#8358; </span><span style="font-stretch: narrower;">{{mainBalance|intcomma}}</span></p>
                        <p class="header">Available Balance</p>                
                    </div>
                </div>                
            </div>
            
            <!-- Transaction Form -->
            <div class="transaction-form" >
                <p class="tag">Fill out the required details below</p>
                <form action="">
                    <input type="text" name="network" hidden>
                    <div class="operator-container">
                        <a href="javascript:void(0)" onclick="" id="network-selector">
                            <div class="network-selector">
                                <div class="network-group">
                                    <div class="icon-box" id="selectedOperatorImg">
                                        <img src="" alt="">    
                                    </div>
                                    <p class="operator-text">Select a network</p>
                                </div>                    
                                <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7 10L12 15L17 10" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>                        
                            </div>
                        </a>                    
                        <div class="dropdown" id="network-dropdown">
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/mtnlogo.png' %}" network-data="MTN" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/mtnlogo.png' %}" alt="">
                                    </div>
                                    <div class="list">
                                        <p>MTN</p>
                                        <small>MTN Data</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/glologo.png' %}" network-data="Glo" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/glologo.png' %}" alt="">
                                    </div>
                                    <div class="list">
                                        <p>Glo</p>
                                        <small>Glo Data</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/airtellogo.png' %}" network-data="Airtel" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/airtellogo.png' %}" alt="">

                                    </div>
                                    <div class="list">
                                        <p>Airtel</p>
                                        <small>Airtel Data</small>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="mobile-operator" image-data="{% static 'telecomms/images/9mobilelogo.png' %}" network-data="9Mobile" >
                                <div class="item">
                                    <div class="icon-box">
                                        <img src="{% static 'telecomms/images/9mobilelogo.png' %}" alt="">

                                    </div>
                                    <div class="list">
                                        <p>9Mobile</p>
                                        <small>9Mobile Data</small>
                                    </div>
                                </div>
                            </a>


                        </div>
                    </div>
                    <div class="custom-select">
                        <select name="plan" id="dataPlans" >
                            <option value="" >Select Plan</option>
                        </select>
                        <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 10L12 15L17 10" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg> 
                    </div>

                    <div class="input-group right-float">
                        <input type="text" name="phone_number" id="phone_number" placeholder="Enter phone number" maxlength="11" inputmode="numeric"> 
                        <svg fill="#000000" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                                viewBox="0 0 330 330" xml:space="preserve" class="open-beneficiary">
                            <g id="XMLID_12_">
                                <path id="XMLID_13_" d="M305,0H105C69.159,0,40,29.159,40,65v15H25c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v40H25
                                    c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v40H25c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v15c0,35.841,29.159,65,65,65h200
                                    c8.284,0,15-6.716,15-15V15C320,6.716,313.284,0,305,0z M214.213,199.212c-28.342,28.342-63.587,39.049-78.718,23.918
                                    c-0.296-0.295-20.494-20.494-20.494-20.494l30.67-30.67l20.526,20.525l41.283-41.282l-20.526-20.526l30.683-30.682
                                    c0,0,20.199,20.198,20.494,20.494C253.263,135.626,242.556,170.87,214.213,199.212z"/>
                            </g>
                        </svg>                        
                    </div>
                    
                    
                    <!-- <input type="text" name="phone_number" id="phone_number" placeholder="Enter phone number" maxlength="11" inputmode="numeric"> -->
                    <!-- <input type="text" class="" name="amount" id="amount" placeholder="Price" inputmode="numeric" readonly style="color: green;"> -->
                    <!-- <div class="discount-container">
                        <p>Cashback:VP <Span class="calculatedDiscount"></Span></p>
                    </div> -->
                    <div class="details beneficiary">
                        <div class="data">
                            <p class="info">Number is ported</p>
                            <!-- <p class="value" id="">Airtime</p> -->
                            <div class="service-item">
                                <label class="switch">
                                <input class="checkbox " type="checkbox" id="is_ported">
                                <span class="slider round"></span>
                                </label>                        
                            </div>
                        </div>
                    </div>

                    <div class="error-feedback">
                        <div class="transaction-error">
                            <svg fill="#FFF" width="32px" height="32px" viewBox="0 0 24 24" id="caution-sign-circle" xmlns="http://www.w3.org/2000/svg" class="icon line">
                                <line id="primary-upstroke" x1="11.95" y1="16.5" x2="12.05" y2="16.5" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.95;"></line>
                                <path id="primary" d="M3,12a9,9,0,0,1,9-9h0a9,9,0,0,1,9,9h0a9,9,0,0,1-9,9h0a9,9,0,0,1-9-9Zm9,0V7" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5;"></path>
                            </svg>
                            <p class="error-message" id="error-message"></p>
                        </div>
                    </div>

                    <button href="javascript:void(0)" class="primary-btn disabled" style="margin-top: 80px;" id="buyData">Proceed</button>
                </form>
            </div> 
        </div>

        <!-- Offer modal -->
        <div class="setting-modal billSummary" id="offerModal" style="display: none;">
            {% csrf_token %}  
            <div class="content vacc">   
                <div class="modal-indicator"></div>
                <!-- Store Rating-->

                <!-- Android -->
                <div class="offer-details" id="playstoreRating" style="display: none;">
                    <!-- Offer Prompt -->
                    <div class="offer-prompt" style="display: block;">
                        <p class="offer-header">Congrats<span style="font-family: Noto Emoji, sans-serif;">ðŸŽ‰</span>!</p>
                        <p class="offer-note">Yov've been made an offer to pay 
                            <br>#<span class="offer-amount"></span> for this transaction. kindly rate us 
                            <br>on Playstore to claim this offer.!
                        </p>
                        <div class="button-group">                        
                            <a class="primary-btn accept-offer" href="https://www.forexfactory.com/" onclick="" >Rate us on Playstore</a>
                            <button class="secondary-btn " href="javascript:void(0)" onclick="">Miss out on Offer</button>
                        </div>
                    </div>
                    <!-- offer-pending -->
                    <div class="offer-pending" style="display: none;" id="offer-pending">
                        <p class="offer-note">Kindly complete your rating on 
                            <br>Playstore to continue. Thank you! 
                        </p>
                        <div class="button-group confirm-offer" style="display: none;">                        
                            <button class="primary-btn continue-offer"  onclick="">Continue</button>
                            <!-- <a class="secondary-btn " href="javascript:void(0)" onclick="">Miss out on Offer</a> -->
                        </div>
                    </div>                     
                </div>
                <!-- IOS -->
                <div class="offer-details" id="appstoreRating" style="display: none;">
                    <!-- Offer Prompt -->
                    <div class="offer-prompt" style="display: block;">
                        <p class="offer-header">Congrats<span style="font-family: Noto Emoji, sans-serif;">ðŸŽ‰</span>!</p>
                        <p class="offer-note">Yov've been made an offer to pay 
                            <br>#<span class="offer-amount"></span> for this transaction. kindly rate us 
                            <br>on Appstore to claim this offer.!
                        </p>
                        <div class="button-group">                        
                            <a class="primary-btn accept-offer" href="https://www.forexfactory.com/" onclick="" >Rate us on Appstore</a>
                            <button class="secondary-btn reject-offer" href="javascript:void(0)" onclick="" >Miss out on Offer</button>
                        </div>
                    </div>
                    <!-- offer-pending -->
                    <div class="offer-pending" style="display: none;" id="offer-pending">
                        <p class="offer-note">Kindly complete your rating on 
                            <br>Playstore to continue. Thank you! 
                        </p>
                        <div class="button-group confirm-offer" style="display: none;">                        
                            <button class="primary-btn continue-offer"  onclick="">Continue</button>
                            <!-- <a class="secondary-btn " href="javascript:void(0)" onclick="">Miss out on Offer</a> -->
                        </div>
                    </div>                     
                </div>
                <!-- TrustPilot -->
                <div class="offer-details" id="trustPilotRating" style="display: none;">
                    <!-- Offer Prompt -->
                    <div class="offer-prompt" style="display: block;">
                        <p class="offer-header">Congrats<span style="font-family: Noto Emoji, sans-serif;">ðŸŽ‰</span>!</p>
                        <p class="offer-note">Yov've been made an offer to pay 
                            <br>#<span class="offer-amount"></span> for this transaction. kindly rate us 
                            <br>on TruesPilot to claim this offer.!
                        </p>
                        <div class="button-group">                        
                            <a class="primary-btn accept-offer" href="https://www.forexfactory.com/" onclick="" >Rate us on TruesPilot</a>
                            <button class="secondary-btn reject-offer" href="javascript:void(0)" onclick="" >Miss out on Offer</button>
                        </div>
                    </div>
                    <!-- offer-pending -->
                    <div class="offer-pending" style="display: none;" id="offer-pending">
                        <p class="offer-note">Kindly complete your rating on 
                            <br>Playstore to continue. Thank you! 
                        </p>
                        <div class="button-group confirm-offer" style="display: none;">                        
                            <button class="primary-btn continue-offer"  onclick="">Continue</button>
                            <!-- <a class="secondary-btn " href="javascript:void(0)" onclick="">Miss out on Offer</a> -->
                        </div>
                    </div>                     
                </div>
            </div>        
        </div>

      
        <!-- Sumamry modal -->
        <div class="setting-modal billSummary" id="billSummary" style="display: none;">
            {% csrf_token %}  
            <div class="content vacc">   
                <div class="modal-indicator"></div>
                <!-- Bill Summary -->
                <div  id="" style="display: block;">
                    <p class="header">Bill Summary</p>                      
                    <div class="details">
                        <div class="data">
                            <p class="info">Bill Type</p>
                            <p class="value" id="">Data</p>
                        </div>
                        <div class="data">
                            <p class="info">Network Provider</p>
                            <p class="value" id="networOperator"></p>
                        </div>
                        <div class="data">
                            <p class="info">Phone Number</p>
                            <p class="value" id="recipient"></p>
                        </div>
                        <div class="data">
                            <p class="info">Plan</p>
                            <p class="value" id="plan"></p>
                        </div>
                        <div class="data">
                            <p class="info">Amount</p>
                            <p class="value">&#8358;<span id="dataAmount"></span></p>
                        </div>
                        <div class="data">
                            <p class="info">Cashback</p>
                            <p class="value">&#8358;<span id="cashback"></span></p>
                        </div>
                        <hr>
                        <div class="data">
                            <p class="info">Total</p>
                            <p class="value total" >&#8358;<span id="total">0</span></p>
                        </div>
                    </div>
                    <div class="details beneficiary">
                        <div class="data">
                            <p class="info">Save Beneficiary</p>
                            <!-- <p class="value" id="">Airtime</p> -->
                            <div class="service-item">
                                <label class="switch">
                                  <input class="checkbox" type="checkbox" id="data-{{service.network_operator}}" >
                                  <span class="slider round"></span>
                                </label>                        
                            </div>
                        </div>
                    </div>
                    <div class="error-feedback">
                        <div class="transaction-error">
                            <svg fill="#FFF" width="32px" height="32px" viewBox="0 0 24 24" id="caution-sign-circle" xmlns="http://www.w3.org/2000/svg" class="icon line">
                                <line id="primary-upstroke" x1="11.95" y1="16.5" x2="12.05" y2="16.5" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.95;"></line>
                                <path id="primary" d="M3,12a9,9,0,0,1,9-9h0a9,9,0,0,1,9,9h0a9,9,0,0,1-9,9h0a9,9,0,0,1-9-9Zm9,0V7" style="fill: none; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5;"></path>
                            </svg>
                            <p class="error-message" id="error-message"></p>
                        </div>
                    </div>
        
                    <div class="button-group">
                        <button href="javascript:void(0)" class="secondary-btn cancelTrans" id="cancelData" onclick="">Cancel</button>
                        <button href="javascript:void(0)" class="primary-btn"  id="purchaseData" onclick="">Purchase</button>
                    </div>     
                </div>
            </div>
        
        </div>

        <!-- Feeback modal -->
        <div class="setting-modal" id="transactionFeedback" style="display: none;">
            <div class="content vacc">   
                <div class="modal-indicator"></div>
                <!-- Feedback -->
                <div class="feedback-image-container">
                    <lottie-player src="https://lottie.host/a4b16f7e-e9e7-4cc1-8f34-54f435ea80c5/FmzCUPyAsk.json" background="transparent" speed="1" style="width: 180px; height: 180px" loop autoplay direction="1" mode="normal"></lottie-player>
                </div>
                <div class="feedback">
                    <p>Your Data Purchase<br>Was Successful</p>
                    <small>Your data bundle should be received<br>within a few seconds.</small>
                </div>
    
                <div class="button-group">
                    <a class="secondary-btn" href="{% url 'buy-data' %}" onclick="">Buy Again</a>
                    <a class="primary-btn " href="{% url 'dashboard' %}" onclick="">Go to Dashboard</a>
                </div>
            </div>
        
        </div>

        <!-- Beneficiary modal -->
        <div class="setting-modal" id="beneficiaryModal" style="display: none;">
            <div class="content beneficairy">   
                <div class="modal-indicator"></div>
                <h5 class="header">Beneficiaries</h5>
                <a href="javascript:void(0)"></a>
                {% if telecommsBeneficiaries != None and telecommsBeneficiaries|length > 0 %}
                    {% for beneficiary in telecommsBeneficiaries%}
                        <a href="javascript:void(0)" class="save-beneficiary" onclick="" data="{{beneficiary.operator}}|{{beneficiary.recipient}}">
                            <div class="data">
                                <div class="icon-box">
                                    {% if beneficiary.operator == 'MTN' %}
                                        <img src="{% static 'telecomms/images/mtnlogo.png' %}" alt=""> 
                                    {% elif beneficiary.operator == 'Glo' %}  
                                        <img src="{% static 'telecomms/images/glologo.png' %}" alt=""> 
                                    {% elif beneficiary.operator == '9Mobile' %}  
                                        <img src="{% static 'telecomms/images/9mobilelogo.png' %}" alt=""> 
                                    {% elif beneficiary.operator == 'Airtel' %}  
                                        <img src="{% static 'telecomms/images/airtellogo.png' %}" alt=""> 
                                    {% endif %}
                                </div>
                                <div class="info">
                                    <p class="operator">{{beneficiary.operator}}</p>
                                    <p class="recipient">{{beneficiary.recipient}}</p>
                                </div>
                            </div>
                        </a>
                    {% endfor %}                
                {% else %}
                <div class="note">
                    <p>You currently do not have any beneficiary saved</p>
                </div>
                {% endif %}
            </div>
        
        </div>

        <!-- preloader -->
        <div class="loader-overlay">
            <div class="loader"></div>
        </div>
          

        
        
    </div>
    

    

    <!--Transaction PIN Validation -->
    <div class="setting-modal" id="PINValidation">
        {% csrf_token %}  
        <div class="content">
            <div class="modal-indicator">
                <!-- <hr> -->
            </div>
            <!-- Old PIN -->
            <div class="" id="transactionPIN">
                <h6 class="header">Enter  4-Digit Transaction Pin</h6>
                <p class="tag">We just want to make sure it is you&#x1F512;</p>
                <form method="POST" class="setPinForm" id="setPinForm">
                    <div class="pin-container">
                        <div id="PINWrapper" ></div>
                    </div>
                </form>
                <!-- Feedback -->
                <p class="text-center validationError" id="PINValidationError"></p>  
                <div class="spacer"></div>                            
            </div>
        </div>
    </div>

    <!-- <div class="main-content transasction-page">
        <div class="loader-overlay">
            <div class="loader"></div>
        </div>

    </div> -->


    

    <script src="{% static 'telecomms/js/data.js' %}?v=1.022"></script>
    <script src="{% static 'telecomms/js/simple.money.format.js' %}"></script>
    <script type="text/javascript">
		$('.money').simpleMoneyFormat();
	</script>
    
</body>
</html>